$(function(){var g=$("#add-version-dialog").dialog({autoOpen:!1,modal:!0,position:modalPosition,buttons:{Submit:function(){var a=$("#dialog-name").val(),b=$("#dialog-php").val(),c=document.getElementById("dialog-incompatible").checked,d=document.getElementById("dialog-indev").checked,e=document.getElementById("dialog-supported").checked,f=$("#dialog-description").val();confirm("Confirm submit?\nName: "+a+"\nPHP: "+b+"\nIncompatible: "+(c?"yes":"no")+"\nIndev: "+(d?"yes":"no")+"\nSupported: "+(e?"yes":
"no")+"\n\nDescription:\n"+f.split("\n").map(function(a){return"- "+a.trim()}).join("\n")+"\n")&&(ajax("spoon.add.ajax",{data:{name:a,php:b,incompatible:c?1:0,indev:d?1:0,supported:e?1:0,desc:f},success:function(b){alert("Added API "+a+" as #"+b.id);window.location.reload(!0)}}),g.dialog("close"))}}});$("#add-version").on("click",function(){g.dialog("open")});$(".spoon-holder span.editable").on("click",function(){var a=$(this).parents(".spoon-holder").attr("data-spoon-id"),b=$(this).attr("data-field"),
c=prompt("Change #"+a+"."+b+" to:",this.innerText);null!==c&&ajax("spoon.edit.ajax",{data:{spoon:a,field:b,to:c},success:function(a){alert(a.message);window.location.reload(!0)}})});$(".spoon-holder input.editable:checkbox").on("change",function(){var a=$(this).parents(".spoon-holder").attr("data-spoon-id"),b=$(this).attr("data-field");confirm("Change #"+a+"."+b+" to "+(this.checked?"true":"false")+"?")?ajax("spoon.edit.ajax",{data:{spoon:a,field:b,to:this.checked?1:0},success:function(a){alert(a.message);
window.location.reload(!0)}}):this.checked=!this.checked})});
