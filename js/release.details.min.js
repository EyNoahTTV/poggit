var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,d){a!=Array.prototype&&a!=Object.prototype&&(a[c]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var c=a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};
$jscomp.checkStringArgs=function(a,c,d){if(null==a)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return a+""};
$jscomp.polyfill=function(a,c,d,g){if(c){d=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var e=a[g];e in d||(d[e]={});d=d[e]}a=a[a.length-1];g=d[a];c=c(g);c!=g&&null!=c&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,d){var c=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var e=c.length,l=a.length;d=Math.max(0,Math.min(d|0,c.length));for(var f=0;f<l&&d<e;)if(c[d++]!=a[f++])return!1;return f>=l}},"es6","es3");$jscomp.findInternal=function(a,c,d){a instanceof String&&(a=String(a));for(var g=a.length,e=0;e<g;e++){var l=a[e];if(c.call(d,l,e,a))return{i:e,v:l}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6","es3");
$(function(){function a(a){var m=a.attr("id"),h=[];a.find("a.anchor").each(function(){var a=$(this).addClass("dynamic-anchor").html("&sect;"),k=a.parent();a.appendTo(k);var b=this.id.substring(13);h.push(b);var c=m+"-section-"+b;k.attr("data-base-anchor",b);a.addClass("processed-section-anchor").attr("id",c).attr("href","#"+c).removeAttr("aria-hidden");dynamicAnchor.call(this)});var c=[],d=function(a){return function(){var k=$(this),b=this[a].substring(13);c.push(b);k.addClass("processed-custom-anchor").attr("id",
m+"-anchor-"+b)}};a.find("a[name^='user-content-']").each(d("name"));a.find("[id^='user-content-']").each(d("id"));d=function(a){return function(){var k=$(this),b=k.attr(a);switch(/^https?:\/\//i.test(b)?1:b.startsWith("//")?2:"/"===b.charAt(0)?3:"#"!==b.charAt(0)?4:5){case 5:b.startsWith("#poggit-")?k.attr(a,"#"+b.substring(8)):(b=b.substring(1),b.startsWith("user-content-")&&(b=b.substring(13)),-1!==h.indexOf(b)?k.addClass("section-reference").attr(a,"#"+(m+"-section-"+b)):-1!==c.indexOf(b)&&k.addClass("anchor-reference").attr(a,
"#"+(m+"-anchor-"+b)));break;case 4:k.attr(a,"https://github.com/"+releaseDetails.project.repo.owner+"/"+releaseDetails.project.repo.name+"/blob/"+releaseDetails.build.tree+b);break;case 3:k.attr(a,"https://github.com"+b);break;case 2:k.attr(a,"https:"+b)}}};a.find("a[href]").each(d("href"));a.find("img[src]").each(d("src"))}function c(a,d,h,g,e){$('[class^="markdown-heading"]').replaceWith(function(){for(var b=0;b<a.length;++b)0<$(this).children(a[b]).length&&$(this).children("a.anchor").appendTo($(this).children(a[b]).first());
return $(this).html()});for(var m=null,k,b=0;b<a.length;++b)if(d.children(a[b]).length>=h){m=a[b];k=b;break}if(null===m)return"The description has less than "+h+" headers.";var n=[e+"-section-general"],f=["General"];d.children(m).each(function(){var a=$(this);a.children("a.anchor.dynamic-anchor").remove();var b=a.attr("data-base-anchor");b||(b=String(Math.random()));n.push(e+"-section-"+b);f.push(a.text())});var q=Array(f.length);for(h=0;h<n.length;++h)q[h]=$("<div class='release-description-tab-content'></div>").attr("id",
n[h]).addClass(g?"release-description-tab-horizontal":"release-description-tab-vertical");var r={};for(h=0;h<n.length;++h)r[n[h]]=h;var l=0;d.contents().each(function(){if(this instanceof HTMLHeadingElement&&this.tagName.toLowerCase()===m)++l;else{var a=$(this);q[l].append(this);a.hasClass("processed-custom-anchor")?r[this.id]=l:this instanceof HTMLHeadingElement&&(r[a.find(".dynamic-anchor").attr("id")]=l);a.find(".processed-custom-anchor").each(function(){r[this.id]=l})}});h=0===q[0].children().length;
b=$("<ul></ul>");for(var p=0;p<n.length;++p)h&&0===p||b.append($("<li></li>").append($("<a></a>").attr("href","#"+n[p]).text(f[p].substr(0,35)+(35<f[p].length?"...":""))));var t=$("<div></div>").attr("id",g?"release-description-container":"release-description-container-vertical").append(b);for(b=0;b<n.length;++b)h&&0===b||(g&&c(a.slice(k+1),q[b],4,!1,e),t.append(q[b]));t.tabs({orientation:g?"horizontal":"vertical"});d.html("").append(t);for(d=0;d<n.length;++d)q[d].find("a.section-reference, a.anchor-reference").click(function(){var a=
$(this).attr("href").substring(1);void 0!==r[a]&&(t.tabs("option","active",r[a]),$("html, body").animate({scrollTop:document.getElementById(a).offsetTop},500))});return null}(function(){$("#how-to-install").dialog({autoOpen:!1,modal:!0,position:modalPosition,open:function(a,d){$(".ui-widget-overlay").bind("click",function(){$("#how-to-install").dialog("close")})}});$("#release-description-bad-dialog").dialog({autoOpen:!1,position:modalPosition});$("#license-dialog").dialog({position:modalPosition,
modal:!0,height:.8*window.innerHeight,width:.8*window.innerWidth,autoOpen:!1,open:function(a,d){$(".ui-widget-overlay").bind("click",function(){$("#license-dialog").dialog("close")})}})})();ghApi("users/"+$("#release-authors").attr("data-owner"),{},"GET",function(a){"User"===a.type&&(a=$("<li class='release-authors-entry'></li>").append($("<img/>").attr("src",a.avatar_url).attr("width","16")).append(" @"+a.login).append(generateGhLink(a.html_url)),$("<li>Owner</li>").append($("<ul class='plugin-info release-authors-sub'></ul>").append(a)).prependTo($("#release-authors-main")))});
if(!releaseDetails.isMine){var d=function(a,d,c,g,e,f){ajax("review.admin",{data:{relId:a,criteria:d,type:c,category:g,score:e,message:f,action:"add"},method:"POST",success:function(){location.replace(getRelativeRootPath()+("p/"+releaseDetails.name+"/"+releaseDetails.version))},error:function(){location.replace(getRelativeRootPath()+("p/"+releaseDetails.name+"/"+releaseDetails.version))}})};var g=$("#review-dialog").dialog({title:"Poggit Review",autoOpen:!1,position:modalPosition,modal:!0,buttons:{Cancel:function(){g.dialog("close")},
"Post Review":function(){var a=sessionData.session.adminLevel>=PoggitConsts.AdminLevel.MODERATOR?1:2,c=releaseDetails.mainCategory,h=$("#votes").val(),e=$("#review-message").val();if(5>h)for(var f in["outdate","update","alpha","3.0.0"])if(-1!==e.toLowerCase().indexOf(f)){if(!confirm("You may not review an old plugin negatively just because it doesn't support the API version you use. Moderation action may be carried out if you do so. Are you sure you still want to submit this review?"))return!0;break}d(releaseDetails.releaseId,
0,a,c,h,e);g.dialog("close");return!0}},open:function(){$(".ui-widget-overlay").bind("click",function(){g.dialog("close")})},close:function(){z[0].reset()}});var e=$("#review-warning"),l=g.find("#review-message"),f=function(){-1!==l.val().toLocaleLowerCase().indexOf("outdate")?e.text("Warning: Do not post negative reviews just because a plugin is outdated. Such reviews will be deleted."):e.text("")};l.change(f).keyup(f);var z=g.find("form").on("submit",function(a){a.preventDefault()});var v=$(".release-review-intent"),
A=v.find("> img");v.hover(function(){var a=this.getAttribute("data-score");v.each(function(){this.getAttribute("data-score")<=a&&$(this).find("> img").attr("src",getRelativeRootPath()+"res/Full_Star_Yellow.svg")})},function(){A.attr("src",getRelativeRootPath()+"res/Empty_Star.svg")}).click(function(){$("#votes").val(this.getAttribute("data-score"));g.dialog("open")})}f=$("#rdesc");var w=$("#rchlog");a(f);a(w);if(!1!==sessionData.opts.makeTabs){if(null!==getParameterByName("notabs",null)){$(".release-description").append($("<span class='colored-bullet yellow'></span>").css("cursor",
"pointer").click(function(){window.location=window.location.origin+window.location.pathname}).attr("title","Click to display description in tabs."));return}var u=null;u="html"!==f.attr("data-desc-type")?"The plugin description is not in markdown format.":c("h1 h2 h3 h4 h5 h6".split(" "),f,2,!0,f.attr("id"));null!==u?($("#release-description-bad-reason").html(u),$(".release-description").append($("<span class='colored-bullet red'></span>").css("cursor","pointer").attr("title","Failed to display description in tabs: "+
u))):$(".release-description").append($("<span class='colored-bullet green'></span>").css("cursor","pointer").click(function(){window.location=window.location.origin+window.location.pathname+"?notabs"}).attr("title","Click to display description directly without splitting into tabs."))}var x=[],y=0;w.children("ul").children("li").each(function(){this.hasAttribute("data-disabled")&&x.push(y);y++});w.tabs({disabled:x});$(".delete-release").click(function(){var a={my:"center top",at:"center top+100",
of:window};$("#dialog-confirm").dialog({resizable:!1,height:"auto",width:400,position:a,clickOut:!0,modal:!0,buttons:{"Delete Forever":function(){$(this).dialog("close");ajax("release.statechange",{data:{relId:releaseDetails.releaseId,action:"delete"},method:"POST",success:function(){location.replace(getRelativeRootPath()+("p/"+releaseDetails.name+"/"+releaseDetails.version))},error:function(){location.replace(getRelativeRootPath()+("p/"+releaseDetails.name+"/"+releaseDetails.version))}})},Cancel:function(){$(this).dialog("close")}},
open:function(a,d){$(".ui-widget-overlay").bind("click",function(){$("#dialog-confirm").dialog("close")})}})});(function(){$.ajax(getRelativeRootPath()+"try.plugin",{method:"GET",dataType:"json",success:function(a){var d={dialog:$("<div></div>"),dialogSetups:$("<select></select>"),dialogPlugins:$("<pre style='display: inline;'></pre>"),dialogDescription:$("<h6></h6>"),dialogPlayers:$("<pre style='display: inline;'></pre>"),dialogDuration:$("<pre style='display: inline;'></pre>"),dialogUrl:"",setups:{},
init:!1,setInit:function(){var a=this;$(".try-plugin").css("paddingLeft","10px").css("paddingTop","5px").append($("<h6>Try plugin via:</h6>"));this.dialog.append($("<div>Setup: </div>").append(this.dialogSetups));this.dialog.append($("<br/><div></div>").append(this.dialogDescription));this.dialog.append($("<br/><div>Plugins included: </div>").append(this.dialogPlugins));this.dialog.append($("<div>Max Players: </div>").append(this.dialogPlayers));this.dialog.append($("<div>Server Runtime: </div>").append(this.dialogDuration));
this.dialog.dialog({title:"[NEW] Try Plugin, Available setups:",autoOpen:!1,position:modalPosition,width:.8*window.innerWidth,modal:!0,buttons:{"Test Now":function(){ga("send","event","Try.Plugin",a.dialogSetups.val(),releaseDetails.name+" "+releaseDetails.version);window.open(a.dialogUrl,"Test Plugin","")},Close:function(){a.dialog.dialog("close")}}});this.dialogSetups.change(function(){var b=a.dialogSetups.val();a.update(a.setups[b])});this.init=!0},add:function(a,b){var d=this;if(0!==b.length){this.init||
(this.setInit(),this.update(b[0]));for(var c=1,f=$jscomp.makeIterator(b),e=f.next();!e.done;e=f.next())e=e.value,uid=a.name+"-"+c.toString(),this.setups[uid]=e,this.dialogSetups.append($('<option value="'+uid+'" id="'+uid+'">'+uid+"</option>")),c+=1;c=$('<img class="hover-title" id="'+uid+'" src="'+a.icon+'" alt="'+a.name+'" width="32px" height="32px">');c.click(function(c){d.update(b[0],a.name+"-1");d.dialog.dialog("open")});$(".try-plugin").append(c)}},update:function(a,b){b=void 0===b?null:b;this.dialogDescription.text(a.description);
this.dialogPlayers.text(a.players);this.dialogPlugins.text(a.plugins.join(", "));this.dialogDuration.text(a.duration.toString()+" seconds");this.dialogUrl=a.url;null!==b&&this.dialogSetups.children('[value="'+b+'"]').attr("selected","selected")}},c=releaseDetails,g=c.name;c=c.version;var e={};a=$jscomp.makeIterator(a);for(var f=a.next();!f.done;e={endpoint:e.endpoint},f=a.next())e.endpoint=f.value,f=new XMLHttpRequest,f.addEventListener("load",function(a){return function(){200<=this.status&&300>this.status&&
d.add(a.endpoint,JSON.parse(this.responseText))}}(e)),f.timeout=5E3,f.open("POST",e.endpoint.url),f.setRequestHeader("Content-Type","application/json"),f.setRequestHeader("Accept","application/json"),f.send(JSON.stringify({plugin:g,version:c}))}})})();"#shield-template"===window.location.hash&&(alert("Thank you for submitting your plugin! Please have a look at the shields here and add them to the README on your repo."),window.location.hash="")});
