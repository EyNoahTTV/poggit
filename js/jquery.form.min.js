/*
 jQuery Form Plugin
 version: 3.51.0-2014.06.20
 Requires jQuery v1.5 or later
 Copyright (c) 2014 M. Alsup
 Examples and documentation at: http://malsup.com/jquery/form/
 Project repository: https://github.com/malsup/form
 Dual licensed under the MIT and GPL licenses.
 https://github.com/malsup/form#copyright-and-license
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,q,g){b instanceof String&&(b=String(b));for(var p=b.length,t=0;t<p;t++){var z=b[t];if(q.call(g,z,t,b))return{i:t,v:z}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,q,g){b!=Array.prototype&&b!=Object.prototype&&(b[q]=g.value)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,q,g,p){if(q){g=$jscomp.global;b=b.split(".");for(p=0;p<b.length-1;p++){var t=b[p];t in g||(g[t]={});g=g[t]}b=b[b.length-1];p=g[b];q=q(p);q!=p&&null!=q&&$jscomp.defineProperty(g,b,{configurable:!0,writable:!0,value:q})}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,g){return $jscomp.findInternal(this,b,g).v}},"es6","es3");
(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):b("undefined"!=typeof jQuery?jQuery:window.Zepto)})(function(b){function q(a){var e=a.data;a.isDefaultPrevented()||(a.preventDefault(),b(a.target).ajaxSubmit(e))}function g(a){var e=a.target,d=b(e);if(!d.is("[type=submit],[type=image]")){e=d.closest("[type=submit]");if(0===e.length)return;e=e[0]}var h=this;h.clk=e;"image"==e.type&&(void 0!==a.offsetX?(h.clk_x=a.offsetX,h.clk_y=a.offsetY):"function"==typeof b.fn.offset?(d=d.offset(),
h.clk_x=a.pageX-d.left,h.clk_y=a.pageY-d.top):(h.clk_x=a.pageX-e.offsetLeft,h.clk_y=a.pageY-e.offsetTop));setTimeout(function(){h.clk=h.clk_x=h.clk_y=null},100)}function p(){if(b.fn.ajaxSubmit.debug){var a="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(a):window.opera&&window.opera.postError&&window.opera.postError(a)}}var t=void 0!==b("<input type='file'/>").get(0).files;var z=void 0!==window.FormData;var H=!!b.fn.prop;b.fn.attr2=function(){if(!H)return this.attr.apply(this,
arguments);var a=this.prop.apply(this,arguments);return a&&a.jquery||"string"===typeof a?a:this.attr.apply(this,arguments)};b.fn.ajaxSubmit=function(a){function e(c){c=b.param(c,a.traditional).split("&");var e=c.length,h=[],d;for(d=0;d<e;d++){c[d]=c[d].replace(/\+/g," ");var k=c[d].split("=");h.push([decodeURIComponent(k[0]),decodeURIComponent(k[1])])}return h}function d(c){for(var h=new FormData,d=0;d<c.length;d++)h.append(c[d].name,c[d].value);if(a.extraData)for(c=e(a.extraData),d=0;d<c.length;d++)c[d]&&
h.append(c[d][0],c[d][1]);a.data=null;d=b.extend(!0,{},b.ajaxSettings,a,{contentType:!1,processData:!1,cache:!1,type:u||"POST"});a.uploadProgress&&(d.xhr=function(){var c=b.ajaxSettings.xhr();c.upload&&c.upload.addEventListener("progress",function(b){var c=0,d=b.loaded||b.position,h=b.total;b.lengthComputable&&(c=Math.ceil(d/h*100));a.uploadProgress(b,d,h,c)},!1);return c});d.data=null;var k=d.beforeSend;d.beforeSend=function(b,c){c.data=a.formData?a.formData:h;k&&k.call(this,b,c)};return b.ajax(d)}
function h(d){function h(a){var b=null;try{a.contentWindow&&(b=a.contentWindow.document)}catch(D){p("cannot get iframe.contentWindow document: "+D)}if(b)return b;try{b=a.contentDocument?a.contentDocument:a.document}catch(D){p("cannot get iframe.contentDocument: "+D),b=a.document}return b}function e(){function a(){try{var b=h(w).readyState;p("state = "+b);b&&"uninitialized"==b.toLowerCase()&&setTimeout(a,50)}catch(I){p("Server abort: ",I," (",I.name,")"),k(2),B&&clearTimeout(B),B=void 0}}var d=c.attr2("target"),
e=c.attr2("action"),l=c.attr("enctype")||c.attr("encoding")||"multipart/form-data";g.setAttribute("target",v);u&&!/post/i.test(u)||g.setAttribute("method","POST");e!=f.url&&g.setAttribute("action",f.url);f.skipEncodingOverride||u&&!/post/i.test(u)||c.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});f.timeout&&(B=setTimeout(function(){t=!0;k(1)},f.timeout));var m=[];try{if(f.extraData)for(var n in f.extraData)f.extraData.hasOwnProperty(n)&&(b.isPlainObject(f.extraData[n])&&f.extraData[n].hasOwnProperty("name")&&
f.extraData[n].hasOwnProperty("value")?m.push(b('<input type="hidden" name="'+f.extraData[n].name+'">').val(f.extraData[n].value).appendTo(g)[0]):m.push(b('<input type="hidden" name="'+n+'">').val(f.extraData[n]).appendTo(g)[0]));f.iframeTarget||y.appendTo("body");w.attachEvent?w.attachEvent("onload",k):w.addEventListener("load",k,!1);setTimeout(a,15);try{g.submit()}catch(M){document.createElement("form").submit.apply(g)}}finally{g.setAttribute("action",e),g.setAttribute("enctype",l),d?g.setAttribute("target",
d):c.removeAttr("target"),b(m).remove()}}function k(a){if(!l.aborted&&!J)if(r=h(w),r||(p("cannot access response document"),a=2),1===a&&l)l.abort("timeout"),x.reject(l,"timeout");else if(2==a&&l)l.abort("server abort"),x.reject(l,"error","server abort");else if(r&&r.location.href!=f.iframeSrc||t){w.detachEvent?w.detachEvent("onload",k):w.removeEventListener("load",k,!1);a="success";var c;try{if(t)throw"timeout";var d="xml"==f.dataType||r.XMLDocument||b.isXMLDoc(r);p("isXml="+d);if(!d&&window.opera&&
(null===r.body||!r.body.innerHTML)&&--A){p("requeing onLoad callback, DOM not available");setTimeout(k,250);return}var e=r.body?r.body:r.documentElement;l.responseText=e?e.innerHTML:null;l.responseXML=r.XMLDocument?r.XMLDocument:r;d&&(f.dataType="xml");l.getResponseHeader=function(a){return{"content-type":f.dataType}[a.toLowerCase()]};e&&(l.status=Number(e.getAttribute("status"))||l.status,l.statusText=e.getAttribute("statusText")||l.statusText);var m=(f.dataType||"").toLowerCase(),g=/(json|script|text)/.test(m);
if(g||f.textarea){var u=r.getElementsByTagName("textarea")[0];if(u)l.responseText=u.value,l.status=Number(u.getAttribute("status"))||l.status,l.statusText=u.getAttribute("statusText")||l.statusText;else if(g){var C=r.getElementsByTagName("pre")[0],q=r.getElementsByTagName("body")[0];C?l.responseText=C.textContent?C.textContent:C.innerText:q&&(l.responseText=q.textContent?q.textContent:q.innerText)}}else"xml"==m&&!l.responseXML&&l.responseText&&(l.responseXML=K(l.responseText));try{z=G(l,m,f)}catch(E){a=
"parsererror",l.error=c=E||a}}catch(E){p("error caught: ",E),a="error",l.error=c=E||a}l.aborted&&(p("upload aborted"),a=null);l.status&&(a=200<=l.status&&300>l.status||304===l.status?"success":"error");"success"===a?(f.success&&f.success.call(f.context,z,"success",l),x.resolve(l.responseText,"success",l),n&&b.event.trigger("ajaxSuccess",[l,f])):a&&(void 0===c&&(c=l.statusText),f.error&&f.error.call(f.context,l,a,c),x.reject(l,"error",c),n&&b.event.trigger("ajaxError",[l,f,c]));n&&b.event.trigger("ajaxComplete",
[l,f]);n&&!--b.active&&b.event.trigger("ajaxStop");f.complete&&f.complete.call(f.context,l,a);J=!0;f.timeout&&clearTimeout(B);setTimeout(function(){f.iframeTarget?y.attr("src",f.iframeSrc):y.remove();l.responseXML=null},100)}}var g=c[0],m,n,t,B,x=b.Deferred();x.abort=function(a){l.abort(a)};if(d)for(m=0;m<q.length;m++)d=b(q[m]),H?d.prop("disabled",!1):d.removeAttr("disabled");var f=b.extend(!0,{},b.ajaxSettings,a);f.context=f.context||f;var v="jqFormIO"+(new Date).getTime();if(f.iframeTarget){var y=
b(f.iframeTarget);(m=y.attr2("name"))?v=m:y.attr2("name",v)}else y=b('<iframe name="'+v+'" src="'+f.iframeSrc+'" />'),y.css({position:"absolute",top:"-1000px",left:"-1000px"});var w=y[0];var l={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(a){var c="timeout"===a?"timeout":"aborted";p("aborting upload... "+c);this.aborted=1;try{w.contentWindow.document.execCommand&&
w.contentWindow.document.execCommand("Stop")}catch(D){}y.attr("src",f.iframeSrc);l.error=c;f.error&&f.error.call(f.context,l,c,a);n&&b.event.trigger("ajaxError",[l,f,c]);f.complete&&f.complete.call(f.context,l,c)}};(n=f.global)&&0===b.active++&&b.event.trigger("ajaxStart");n&&b.event.trigger("ajaxSend",[l,f]);if(f.beforeSend&&!1===f.beforeSend.call(f.context,l,f))return f.global&&b.active--,x.reject(),x;if(l.aborted)return x.reject(),x;(d=g.clk)&&(m=d.name)&&!d.disabled&&(f.extraData=f.extraData||
{},f.extraData[m]=d.value,"image"==d.type&&(f.extraData[m+".x"]=g.clk_x,f.extraData[m+".y"]=g.clk_y));d=b("meta[name=csrf-token]").attr("content");(m=b("meta[name=csrf-param]").attr("content"))&&d&&(f.extraData=f.extraData||{},f.extraData[m]=d);f.forceSync?e():setTimeout(e,10);var z,r,A=50,J,K=b.parseXML||function(a,b){window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml");return b&&b.documentElement&&"parsererror"!=
b.documentElement.nodeName?b:null},F=b.parseJSON||function(a){return window.eval("("+a+")")},G=function(a,c,d){var f=a.getResponseHeader("content-type")||"",e="xml"===c||!c&&0<=f.indexOf("xml");a=e?a.responseXML:a.responseText;e&&"parsererror"===a.documentElement.nodeName&&b.error&&b.error("parsererror");d&&d.dataFilter&&(a=d.dataFilter(a,c));"string"===typeof a&&("json"===c||!c&&0<=f.indexOf("json")?a=F(a):("script"===c||!c&&0<=f.indexOf("javascript"))&&b.globalEval(a));return a};return x}if(!this.length)return p("ajaxSubmit: skipping submit process - no element selected"),
this;var c=this;"function"==typeof a?a={success:a}:void 0===a&&(a={});var u=a.type||this.attr2("method");var k=a.url||this.attr2("action");(k=(k="string"===typeof k?b.trim(k):"")||window.location.href||"")&&(k=(k.match(/^([^#]+)/)||[])[1]);a=b.extend(!0,{url:k,success:b.ajaxSettings.success,type:u||b.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},a);k={};this.trigger("form-pre-serialize",[this,a,k]);if(k.veto)return p("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),
this;if(a.beforeSerialize&&!1===a.beforeSerialize(this,a))return p("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var g=a.traditional;void 0===g&&(g=b.ajaxSettings.traditional);var q=[],m=this.formToArray(a.semantic,q);if(a.data){a.extraData=a.data;var n=b.param(a.data,g)}if(a.beforeSubmit&&!1===a.beforeSubmit(m,this,a))return p("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[m,this,a,k]);if(k.veto)return p("ajaxSubmit: submit vetoed via form-submit-validate trigger"),
this;k=b.param(m,g);n&&(k=k?k+"&"+n:n);"GET"==a.type.toUpperCase()?(a.url+=(0<=a.url.indexOf("?")?"&":"?")+k,a.data=null):a.data=k;var v=[];a.resetForm&&v.push(function(){c.resetForm()});a.clearForm&&v.push(function(){c.clearForm(a.includeHidden)});if(!a.dataType&&a.target){var F=a.success||function(){};v.push(function(c){var d=a.replaceTarget?"replaceWith":"html";b(a.target)[d](c).each(F,arguments)})}else a.success&&v.push(a.success);a.success=function(b,d,e){for(var h=a.context||this,k=0,m=v.length;k<
m;k++)v[k].apply(h,[b,d,e||c,c])};if(a.error){var G=a.error;a.error=function(b,d,e){G.apply(a.context||this,[b,d,e,c])}}if(a.complete){var L=a.complete;a.complete=function(b,d){L.apply(a.context||this,[b,d,c])}}n=0<b("input[type=file]:enabled",this).filter(function(){return""!==b(this).val()}).length;k="multipart/form-data"==c.attr("enctype")||"multipart/form-data"==c.attr("encoding");g=t&&z;p("fileAPI :"+g);var A;!1!==a.iframe&&(a.iframe||(n||k)&&!g)?a.closeKeepAlive?b.get(a.closeKeepAlive,function(){A=
h(m)}):A=h(m):A=(n||k)&&g?d(m):b.ajax(a);c.removeData("jqxhr").data("jqxhr",A);for(n=0;n<q.length;n++)q[n]=null;this.trigger("form-submit-notify",[this,a]);return this};b.fn.ajaxForm=function(a){a=a||{};a.delegation=a.delegation&&b.isFunction(b.fn.on);if(!a.delegation&&0===this.length){var e=this.selector,d=this.context;if(!b.isReady&&e)return p("DOM not ready, queuing ajaxForm"),b(function(){b(e,d).ajaxForm(a)}),this;p("terminating; zero elements found by selector"+(b.isReady?"":" (DOM not ready)"));
return this}return a.delegation?(b(document).off("submit.form-plugin",this.selector,q).off("click.form-plugin",this.selector,g).on("submit.form-plugin",this.selector,a,q).on("click.form-plugin",this.selector,a,g),this):this.ajaxFormUnbind().bind("submit.form-plugin",a,q).bind("click.form-plugin",a,g)};b.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};b.fn.formToArray=function(a,e){var d=[];if(0===this.length)return d;var h=this[0],c=this.attr("id"),g=a?h.getElementsByTagName("*"):
h.elements;g&&!/MSIE [678]/.test(navigator.userAgent)&&(g=b(g).get());c&&(c=b(':input[form="'+c+'"]').get(),c.length&&(g=(g||[]).concat(c)));if(!g||!g.length)return d;var k,p;var q=0;for(p=g.length;q<p;q++){var m=g[q];if((c=m.name)&&!m.disabled)if(a&&h.clk&&"image"==m.type)h.clk==m&&(d.push({name:c,value:b(m).val(),type:m.type}),d.push({name:c+".x",value:h.clk_x},{name:c+".y",value:h.clk_y}));else if((k=b.fieldValue(m,!0))&&k.constructor==Array){e&&e.push(m);var n=0;for(m=k.length;n<m;n++)d.push({name:c,
value:k[n]})}else if(t&&"file"==m.type)if(e&&e.push(m),k=m.files,k.length)for(n=0;n<k.length;n++)d.push({name:c,value:k[n],type:m.type});else d.push({name:c,value:"",type:m.type});else null!==k&&"undefined"!=typeof k&&(e&&e.push(m),d.push({name:c,value:k,type:m.type,required:m.required}))}!a&&h.clk&&(a=b(h.clk),e=a[0],(c=e.name)&&!e.disabled&&"image"==e.type&&(d.push({name:c,value:a.val()}),d.push({name:c+".x",value:h.clk_x},{name:c+".y",value:h.clk_y})));return d};b.fn.formSerialize=function(a){return b.param(this.formToArray(a))};
b.fn.fieldSerialize=function(a){var e=[];this.each(function(){var d=this.name;if(d){var h=b.fieldValue(this,a);if(h&&h.constructor==Array)for(var c=0,g=h.length;c<g;c++)e.push({name:d,value:h[c]});else null!==h&&"undefined"!=typeof h&&e.push({name:this.name,value:h})}});return b.param(e)};b.fn.fieldValue=function(a){for(var e=[],d=0,h=this.length;d<h;d++){var c=b.fieldValue(this[d],a);null===c||"undefined"==typeof c||c.constructor==Array&&!c.length||(c.constructor==Array?b.merge(e,c):e.push(c))}return e};
b.fieldValue=function(a,e){var d=a.name,h=a.type,c=a.tagName.toLowerCase();void 0===e&&(e=!0);if(e&&(!d||a.disabled||"reset"==h||"button"==h||("checkbox"==h||"radio"==h)&&!a.checked||("submit"==h||"image"==h)&&a.form&&a.form.clk!=a||"select"==c&&-1==a.selectedIndex))return null;if("select"==c){c=a.selectedIndex;if(0>c)return null;e=[];a=a.options;d=(h="select-one"==h)?c+1:a.length;for(c=h?c:0;c<d;c++){var g=a[c];if(g.selected){var k=g.value;k||(k=g.attributes&&g.attributes.value&&!g.attributes.value.specified?
g.text:g.value);if(h)return k;e.push(k)}}return e}return b(a).val()};b.fn.clearForm=function(a){return this.each(function(){b("input,select,textarea",this).clearFields(a)})};b.fn.clearFields=b.fn.clearInputs=function(a){var e=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var d=this.type,g=this.tagName.toLowerCase();e.test(d)||"textarea"==g?this.value="":"checkbox"==d||"radio"==d?this.checked=!1:"select"==g?this.selectedIndex=
-1:"file"==d?/MSIE/.test(navigator.userAgent)?b(this).replaceWith(b(this).clone(!0)):b(this).val(""):a&&(!0===a&&/hidden/.test(d)||"string"==typeof a&&b(this).is(a))&&(this.value="")})};b.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})};b.fn.enable=function(a){void 0===a&&(a=!0);return this.each(function(){this.disabled=!a})};b.fn.selected=function(a){void 0===a&&(a=!0);return this.each(function(){var e=
this.type;"checkbox"==e||"radio"==e?this.checked=a:"option"==this.tagName.toLowerCase()&&(e=b(this).parent("select"),a&&e[0]&&"select-one"==e[0].type&&e.find("option").selected(!1),this.selected=a)})};b.fn.ajaxSubmit.debug=!1});
